# Headscale & Headplane Coolify Deployment Configuration

# ============================================================================
# TIMEZONE
# ============================================================================
TIMEZONE=America/New_York

# ============================================================================
# DATABASE (Postgres)
# ============================================================================
# Set these before deployment. For Coolify, use strong random passwords.
DB_HOST=postgres
DB_PORT=5432
DB_NAME=headscale
DB_USER=headscale
DB_PASSWORD=CHANGE_ME_TO_A_STRONG_PASSWORD

# ============================================================================
# HEADSCALE SERVER
# ============================================================================
# The public URL where Headscale is accessible
HEADSCALE_SERVER_URL=https://headscale.megabyte.space

# Log level: info, debug, trace, warn, error
LOG_LEVEL=info

# ============================================================================
# OIDC / AUTHENTIK INTEGRATION
# ============================================================================
# Authentik OIDC Issuer URL
OIDC_ISSUER=https://authentik.megabyte.space/application/o/headscale/

# Authentik OIDC Client ID (create this in Authentik)
OIDC_CLIENT_ID=headscale

# Authentik OIDC Client Secret (create this in Authentik)
OIDC_CLIENT_SECRET=CHANGE_ME_TO_YOUR_AUTHENTIK_CLIENT_SECRET

# ============================================================================
# HEADPLANE SERVER
# ============================================================================
# Cookie secret for Headplane sessions (must be 32 characters)
# Generate with: openssl rand -base64 32
HEADPLANE_COOKIE_SECRET=CHANGE_ME_TO_A_32_CHARACTER_RANDOM_SECRET

# ============================================================================
# OPTIONAL: Headscale API Key for Headplane Integration
# ============================================================================
# If enabling OIDC SSO in Headplane, create this with:
#   docker exec <headscale-container> headscale apikey create --expiration 999d
# HEADSCALE_API_KEY=your-api-key-here
